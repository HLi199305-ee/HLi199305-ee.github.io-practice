<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Teams</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <style>
    :root{
      --font-mono: "JetBrains Mono","IBM Plex Mono","Source Code Pro","Cascadia Code",Consolas,Menlo,"Liberation Mono","DejaVu Sans Mono","Courier New",monospace;
      --brand-cpp-blue:#005696;
      --color-bg:#ffffff;
      --color-ink:#111;
      --color-card:#fff;
      --color-border:#e5e7eb;
      --ring:#1c7cc285;
      --nav-active:#ab80d3;
      --glow: rgba(171,128,211,.22);
    }
    html.theme-dark{
      --color-bg:#1a0b2e;
      --color-ink:#e5e5e5;
      --color-card:#1f2937;
      --color-border:#374151;
      --nav-active:#ab80d3;
      --glow: rgba(171,128,211,.35);
    }

    body{
      margin:0; background:var(--color-bg); color:var(--color-ink);
      font:16px/1.7 system-ui, Segoe UI, Roboto, Arial, sans-serif;
      transition: background .25s ease, color .25s ease;
    }

    /* 顶部导航 */
    .navbar{ background: var(--brand-cpp-blue) !important; border-bottom:none; }
    .navbar.navbar-dark .navbar-brand, .navbar.navbar-dark .nav-link{ color:#fff !important; }
    .navbar .nav-link, .navbar .nav-link i{ transition: color .15s ease; }
    .navbar .nav-link:hover, .navbar .nav-link:focus, .navbar .nav-link:focus-visible{ color: var(--nav-active) !important; }
    .navbar .nav-link.active{ color: var(--nav-active) !important; }
    .navbar .nav-link.active i{ color: var(--nav-active) !important; }
    .navbar-brand img{ height:48px; width:auto; display:block; }
    .btn-back-nav{
      display:inline-flex; align-items:center; gap:.5rem;
      border:1px solid rgba(255,255,255,.6); color:#fff; background:transparent;
      padding:.35rem .7rem; border-radius:999px; text-decoration:none;
      transition: background .2s ease, transform .1s ease, box-shadow .2s ease;
      font-family: var(--font-mono); font-weight:700; letter-spacing:0;
      margin-left:.5rem;
    }
    .btn-back-nav i{ font-size:1.1rem; line-height:1; transition: color .15s ease; }
    .btn-back-nav:hover{
      background:rgba(255,255,255,.15);
      transform: translateY(-1px);
      box-shadow:0 6px 18px rgba(0,0,0,.18);
    }
    .btn-back-nav:hover,
    .btn-back-nav:focus,
    .btn-back-nav:focus-visible,
    .btn-back-nav:active,
    .btn-back-nav.active{
      color: var(--nav-active) !important;
      border-color: var(--nav-active) !important;
    }
    .header-tools{ display:flex; align-items:center; gap:.75rem; margin-left:.5rem; }
    .theme-switch{
      position:relative; width:44px; height:24px; background:#cbd5e1;
      border-radius:999px; cursor:pointer; transition:background .2s ease;
      border:1px solid rgba(255,255,255,.6);
    }
    .theme-switch::after{
      content:""; position:absolute; top:50%; left:3px; transform:translateY(-50%);
      width:18px; height:18px; border-radius:50%; background:#fff; transition:left .2s ease;
      box-shadow:0 1px 2px rgba(0,0,0,.15);
    }
    html.theme-dark .theme-switch{ background:#334155; border-color: var(--color-border); }
    html.theme-dark .theme-switch::after{ left:23px; }

    /* 页面头部（去掉筛选与搜索，仅标题说明） */
    .page{ max-width:1200px; margin:2rem auto; padding:0 1rem 3rem; }
    .page-header{
      display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1rem;
    }
    .title-block h1{
      margin:0; font-family: var(--font-mono); font-weight:800; letter-spacing:0;
      display:flex; align-items:center; gap:.6rem;
    }
    .title-block .badge-dot{
      width:.65rem; height:.65rem; border-radius:50%; background: var(--nav-active); box-shadow:0 0 0 .35rem var(--glow);
    }

    /* 团队卡片网格 */
    .team-grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 18px;
      margin-top: 1.25rem;
    }
    @media (max-width: 1199px){ .team-grid{ grid-template-columns: repeat(8, 1fr); } }
    @media (max-width: 767px){  .team-grid{ grid-template-columns: repeat(4, 1fr); } }

    /* 人员卡片（保留聚光灯与微3D） */
    .member{
      grid-column: span 3;
      background: var(--color-card);   
      border:1px solid var(--color-border);
      border-radius:16px; padding:14px; position:relative; overflow:hidden;
      transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
    }

    .member:hover{
      transform: translateY(-4px) rotateX(2deg) rotateY(-1.5deg);
      box-shadow: 0 18px 40px rgba(0,0,0,.18);
      border-color: rgba(171,128,211,.5);
    }
    @media (max-width: 1199px){ .member{ grid-column: span 4; } }
    @media (max-width: 767px){  .member{ grid-column: span 4; } }

    .member .top{ display:flex; align-items:center; gap:12px; }

    .member[data-role="ResearchLead"] .avatar .fallback {
      background: linear-gradient(135deg, #004482 0%, #005696 100%) !important;
      color: #fff !important;
      text-shadow: 0 1px 2px rgba(0,0,0,.4);
    }

    /* 博士后：C++ 中蓝渐变 */
    .member[data-role="Postdoc"] .avatar .fallback {
      background: linear-gradient(135deg, #005696 0%, #0094d4 100%) !important;
      color: #fff !important;
      text-shadow: 0 1px 2px rgba(0,0,0,.4);
    }

    /* 工程师：C++ 浅蓝渐变 */
    .member[data-role="Engineer"] .avatar .fallback {
      background: linear-gradient(135deg, #0094d4 0%, #00a3e0 100%) !important;
      color: #fff !important;
      text-shadow: 0 1px 2px rgba(0,0,0,.4);
    }

    .avatar{
      width:72px; height:72px; border-radius:14px; overflow:hidden; flex:0 0 auto;
      border:1px solid var(--color-border); background:#f3f4f6; position:relative;
    }
    .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }
    .avatar .fallback{
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      font-weight:800; font-family: var(--font-mono);
      background:linear-gradient(135deg, #9ca3af 0%, #6b7280 100%); color:#fff; letter-spacing:.03em;
      font-size:1rem;
    }
    .meta .name{ margin:0; font-weight:800; letter-spacing:.2px; }
    .meta .role{ margin:0; font-size:.92rem; opacity:.8; }
    .tags{ display:flex; flex-wrap:wrap; gap:6px; margin-top:8px; }
    .tag{
      font-size:.76rem; padding:.15rem .5rem; border-radius:999px; border:1px solid var(--color-border);
      background: transparent; color: var(--color-ink);
    }
    .bio{ margin:.6rem 0 0; font-size:.95rem; opacity:.9; min-height:3.3em; }
    .actions{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-top:10px; }
    .social{ display:flex; gap:.4rem; align-items:center; }
    .social a{
      width:34px; height:34px; display:inline-flex; align-items:center; justify-content:center;
      border:1px solid var(--color-border); border-radius:10px; color:var(--color-ink); text-decoration:none;
      background: var(--color-card);
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, color .15s ease;
    }
    .social a:hover{
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(0,0,0,.12);
      border-color: var(--nav-active);
      color: var(--nav-active);
    }
    .btn-more{
      border:1px solid var(--color-border); background:var(--color-card); color:var(--color-ink);
      padding:.35rem .65rem; border-radius:10px; text-decoration:none; font-weight:700; font-family: var(--font-mono);
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, color .15s ease;
    }
    .btn-more:hover{
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(0,0,0,.12);
      border-color: var(--nav-active);
      color: var(--nav-active);
    }

    .section-caption{
      margin: 1.6rem 0 .6rem; font-weight:1000; font-family: var(--font-mono);
      display:flex; align-items:center; gap:.5rem; font-size: 1.6rem;
    }
    .section-caption .line{
      flex:1; height:1px; background:linear-gradient(90deg, var(--color-border), transparent);
    }

    .modal-content{ background: var(--color-card); color: var(--color-ink); border:1px solid var(--color-border); }
    .modal-header{ border-bottom:1px solid var(--color-border); }
    .modal-footer{ border-top:1px solid var(--color-border); }

    :focus-visible{ outline:3px solid var(--ring); outline-offset:2px; border-radius:8px; }


    
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <div class="d-flex align-items-center">
        <a class="navbar-brand d-flex align-items-center"
           href="https://isocpp.org/" target="_blank" rel="noopener">
          <img src="https://upload.wikimedia.org/wikipedia/commons/1/18/ISO_C%2B%2B_Logo.svg" alt="C++ Logo">
        </a>
        <a class="btn-back-nav" href="../index.html" aria-label="Back to home">
          <i class="bi bi-arrow-left-circle-fill"></i>
          Back
        </a>
      </div>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="../index.html" data-match="index.html">
              <i class="bi bi-house-door-fill me-1"></i>Home
            </a>
          </li>
          <li class="nav-item d-flex align-items-center ms-lg-3">
            <a class="nav-link p-1" href="https://github.com/your-repo-url" target="_blank" aria-label="GitHub">
              <i class="bi bi-github fs-4"></i>
            </a>
          </li>
        </ul>
        <div class="header-tools ms-3">
          <button id="themeToggle" class="theme-switch" title="Toggle light/dark" aria-label="Toggle theme"></button>
        </div>
      </div>
    </div>
  </nav>

  <!-- 主体：仅保留成员展示 -->
  <div class="page">
    <div class="section-caption">
      <span>Core members</span><span class="line"></span>
    </div>

    <div id="teamGrid" class="team-grid">
      <!-- 研究负责人 -->
      <article class="member" data-role="ResearchLead" data-tags="Harmonic,HVDC,Optimization" data-name="Aleksandra Lekić">
        <div class="top">
          <div class="avatar">
            <img src="images/team/A.Lekić.jpg" alt="Aleksandra Lekić" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Aleksandra Lekić">AL</div>
          </div>
          <div class="meta">
            <h3 class="name">Aleksandra Lekić</h3>
            <p class="role">Research Lead </p>
            <div class="tags">
              <span class="tag">Harmonic stability</span><span class="tag">HVDC</span><span class="tag">Mathmatical framework</span>
            </div>
          </div>
        </div>
        <p class="bio">Development of the mathematical framework, development of individual components, and their spectral representation and formulation, design of the toolbox, different functionality interconnections, harmonic stability solver, supervision, and acquisition of the funding.</p>
        <div class="actions">
          <div class="social">
            <a href="https://scholar.google.com/citations?user=xwCWAb0AAAAJ&hl=en" title="Google Scholar" aria-label="Scholar"><i class="bi bi-mortarboard"></i></a>
            <a href="mailto:a.lekic@tudelft.nl" title="Email" aria-label="Email"><i class="bi bi-envelope"></i></a>
            <a href="#" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
            <a href="#"><i class="bi bi-github"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Aleksandra Lekić",
               "position":"Associate Professor, TUDelft",
               "img":"",
               "bio":"",
               "tags":[""]
             }'>View</a>
        </div>
      </article>

      <article class="member" data-role="Postdoc" data-tags="DQNsym,Dynamic-phasor" data-name="Robert Dimitrovski">
        <div class="top">
          <div class="avatar">
            <img src="images/team/R.Dimitrovski.jpg" alt="Robert Dimitrovski" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Robert Dimitrovski">AL</div>
          </div>
          <div class="meta">
            <h3 class="name">Robert Dimitrovski</h3>
            <p class="role">Postdoc Researcher</p>
            <div class="tags">
              <span class="tag">DQNsym</span><span class="tag">Dynamic-phasor</span><span class="tag">
            </div>
          </div>
        </div>
        <p class="bio"> Dynamic phasor formulation, development of a core of DQNsym, funding acquisition and supervision.</p>
        <div class="actions">
          <div class="social">
            <a href="#" title="Google Scholar" aria-label="Scholar"><i class="bi bi-mortarboard"></i></a>
            <a href="#" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
            <a href="#" title="Email" aria-label="Email"><i class="bi bi-envelope"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Robert Dimitrovski",
               "position":"Coordinator, TenneT",
               "img":"",
               "bio":"",
               "tags":[""]
             }'>View</a>
        </div>
      </article>


      <!-- 研究员 -->
      <article class="member" data-role="Research" data-tags="DP,Modeling,Stability" data-name="Zhang Min">
        <div class="top">
          <div class="avatar">
            <img src="images/team/zhang-min.jpg" alt="Zhang Min" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Zhang Min">ZM</div>
          </div>
          <div class="meta">
            <h3 class="name">Zhang Min</h3>
            <p class="role">Researcher · Dynamic‑Phasor</p>
            <div class="tags">
              <span class="tag">DP</span><span class="tag">Modeling</span><span class="tag">Stability</span>
            </div>
          </div>
        </div>
        <p class="bio">Builds DP components and validates converter‑grid interaction in multi‑terminal scenarios.</p>
        <div class="actions">
          <div class="social">
            <a href="#"><i class="bi bi-mortarboard"></i></a>
            <a href="#"><i class="bi bi-envelope"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Zhang Min",
               "role":"Researcher · Dynamic‑Phasor",
               "img":"images/team/zhang-min.jpg",
               "bio":"Explores DP modeling and controller interoperability for PE‑rich grids.",
               "tags":["DP","Modeling","Stability"]
             }'>View</a>
        </div>
      </article>

      <!-- 工程师 -->
      <article class="member" data-role="Engineering" data-tags="Python,Pyomo,Tooling" data-name="Liu Yang">
        <div class="top">
          <div class="avatar">
            <img src="images/team/liu-yang.jpg" alt="Liu Yang" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Liu Yang">LY</div>
          </div>
          <div class="meta">
            <h3 class="name">Liu Yang</h3>
            <p class="role">Engineer · Python/Pyomo</p>
            <div class="tags">
              <span class="tag">Python</span><span class="tag">Pyomo</span><span class="tag">Tooling</span>
            </div>
          </div>
        </div>
        <p class="bio">Owns the Python toolchain and visualization for OPF experiments and demos.</p>
        <div class="actions">
          <div class="social">
            <a href="#"><i class="bi bi-github"></i></a>
            <a href="#"><i class="bi bi-envelope"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Liu Yang",
               "role":"Engineer · Python/Pyomo",
               "img":"images/team/liu-yang.jpg",
               "bio":"Maintains Pyomo pipelines, plotting, and CI for cross‑language parity.",
               "tags":["Python","Pyomo","Tooling"]
             }'>View</a>
        </div>
      </article>

      <!-- 运营 -->
      <article class="member" data-role="Operations" data-tags="Docs,Community" data-name="Wang Qing">
        <div class="top">
          <div class="avatar">
            <img src="images/team/wang-qing.jpg" alt="Wang Qing" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Wang Qing">WQ</div>
          </div>
          <div class="meta">
            <h3 class="name">Wang Qing</h3>
            <p class="role">Operations · Docs/Community</p>
            <div class="tags">
              <span class="tag">Docs</span><span class="tag">Community</span>
            </div>
          </div>
        </div>
        <p class="bio">Drives documentation quality, website UX, and community programs.</p>
        <div class="actions">
          <div class="social">
            <a href="#"><i class="bi bi-twitter-x"></i></a>
            <a href="#"><i class="bi bi-envelope"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Wang Qing",
               "role":"Operations · Docs/Community",
               "img":"images/team/wang-qing.jpg",
               "bio":"Coordinates releases, docs style guide, and community events.",
               "tags":["Docs","Community"]
             }'>View</a>
        </div>
      </article>

      <!-- 更多成员 -->
      <article class="member" data-role="Research" data-tags="VVO,ADMM,Uncertainty" data-name="Zhao Rui">
        <div class="top">
          <div class="avatar">
            <img src="images/team/zhao-rui.jpg" alt="Zhao Rui" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Zhao Rui">ZR</div>
          </div>
          <div class="meta">
            <h3 class="name">Zhao Rui</h3>
            <p class="role">Researcher · VVO/ADMM</p>
            <div class="tags">
              <span class="tag">VVO</span><span class="tag">ADMM</span><span class="tag">Uncertainty</span>
            </div>
          </div>
        </div>
        <p class="bio">Works on two‑stage VVO with scenario‑based PV uncertainties and nested ADMM.</p>
        <div class="actions">
          <div class="social">
            <a href="#"><i class="bi bi-mortarboard"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Zhao Rui",
               "role":"Researcher · VVO/ADMM",
               "img":"images/team/zhao-rui.jpg",
               "bio":"Develops tanh‑based q(v) approximation and asynchronous ADMM under delays.",
               "tags":["VVO","ADMM","Uncertainty"]
             }'>View</a>
        </div>
      </article>

      <article class="member" data-role="Engineering" data-tags="Julia,JuMP,Tooling" data-name="Sun Ke">
        <div class="top">
          <div class="avatar">
            <img src="images/team/sun-ke.jpg" alt="Sun Ke" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Sun Ke">SK</div>
          </div>
          <div class="meta">
            <h3 class="name">Sun Ke</h3>
            <p class="role">Engineer · Julia/JuMP</p>
            <div class="tags">
              <span class="tag">Julia</span><span class="tag">JuMP</span><span class="tag">Tooling</span>
            </div>
          </div>
        </div>
        <p class="bio">Ensures parity across Julia/Python/C++ OPF stacks and benchmarks.</p>
        <div class="actions">
          <div class="social">
            <a href="#"><i class="bi bi-github"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Sun Ke",
               "role":"Engineer · Julia/JuMP",
               "img":"images/team/sun-ke.jpg",
               "bio":"Bridges model definitions across languages; maintains test cases.",
               "tags":["Julia","JuMP","Tooling"]
             }'>View</a>
        </div>
      </article>

      <article class="member" data-role="Operations" data-tags="Release,Partners" data-name="Liu Mei">
        <div class="top">
          <div class="avatar">
            <img src="images/team/liu-mei.jpg" alt="Liu Mei" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Liu Mei">LM</div>
          </div>
          <div class="meta">
            <h3 class="name">Liu Mei</h3>
            <p class="role">Operations · Release/Partners</p>
            <div class="tags">
              <span class="tag">Release</span><span class="tag">Partners</span>
            </div>
          </div>
        </div>
        <p class="bio">Coordinates partner pilots and staged releases across DSOs/TSOs.</p>
        <div class="actions">
          <div class="social">
            <a href="#"><i class="bi bi-linkedin"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Liu Mei",
               "role":"Operations · Release/Partners",
               "img":"images/team/liu-mei.jpg",
               "bio":"Leads partner onboarding and feedback loops.",
               "tags":["Release","Partners"]
             }'>View</a>
        </div>
      </article>

      <article class="member" data-role="Engineering" data-tags="Frontend,Docs,UX" data-name="Guo Lin">
        <div class="top">
          <div class="avatar">
            <img src="images/team/guo-lin.jpg" alt="Guo Lin" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
            <div class="fallback" data-avatar="Guo Lin">GL</div>
          </div>
          <div class="meta">
            <h3 class="name">Guo Lin</h3>
            <p class="role">Engineer · Frontend/Docs</p>
            <div class="tags">
              <span class="tag">Frontend</span><span class="tag">Docs</span><span class="tag">UX</span>
            </div>
          </div>
        </div>
        <p class="bio">Owns the site UX style system and accessibility details.</p>
        <div class="actions">
          <div class="social">
            <a href="#"><i class="bi bi-github"></i></a>
            <a href="#"><i class="bi bi-envelope"></i></a>
          </div>
          <a class="btn-more" href="#" data-bs-toggle="modal" data-bs-target="#profileModal"
             data-profile='{
               "name":"Guo Lin",
               "role":"Engineer · Frontend/Docs",
               "img":"images/team/guo-lin.jpg",
               "bio":"Implements consistent typographic and color tokens across pages.",
               "tags":["Frontend","Docs","UX"]
             }'>View</a>
    </div>
  </div>

  <!-- 个人资料 Modal -->
  <div class="modal fade" id="profileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"><span id="mName">Member</span> · <small id="mRole" class="text-muted"></small></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body d-flex flex-column flex-md-row gap-3">
          <div style="flex:0 0 220px">
            <img id="mImg" src="" alt="profile" class="w-100 rounded" style="border:1px solid var(--color-border);">
          </div>
          <div class="flex-grow-1">
            <p id="mBio" style="margin-top:.25rem;"></p>
            <div id="mTags" class="d-flex flex-wrap gap-2 mt-2"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- 主题、当前页高亮、头像 fallback、聚光灯、Modal 绑定（已移除筛选与搜索逻辑） -->
  <script>
    (function(){
      const root = document.documentElement;
      const KEY  = "harmony-theme";
      const btn  = document.getElementById("themeToggle");

      // 主题初始化
      const saved = localStorage.getItem(KEY);
      if (saved === "dark") root.classList.add("theme-dark");
      if (saved === "light") root.classList.remove("theme-dark");
      if (saved === null && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){
        root.classList.add("theme-dark");
      }
      btn?.addEventListener("click", () => {
        root.classList.toggle("theme-dark");
        const isDark = root.classList.contains("theme-dark");
        localStorage.setItem(KEY, isDark ? "dark" : "light");
      });

      // 当前页高亮（Home 根据路径自动高亮）
      const current = (location.pathname.split('/').pop() || '').toLowerCase();
      document.querySelectorAll('.navbar .nav-link[data-match]').forEach(a=>{
        const list = a.getAttribute('data-match').split(',').map(s=>s.trim().toLowerCase());
        if (list.includes(current)) {
          a.classList.add('active');
          a.setAttribute('aria-current','page');
        }
      });

      // 头像 Fallback（根据 data-avatar 生成首字母）
      document.querySelectorAll('.avatar .fallback').forEach(el=>{
        const name = (el.getAttribute('data-avatar') || '').trim();
        if (name) {
          const init = name.split(/\s+/).slice(0,2).map(s=>s[0]).join('').toUpperCase();
          el.textContent = init;
          let h = 0; for (let i=0;i<name.length;i++) h = (h*31 + name.charCodeAt(i))>>>0;
          const hue = h % 360;
          el.style.background = `linear-gradient(135deg, hsl(${hue} 30% 45%), hsl(${(hue+40)%360} 30% 35%))`;
        }
      });

      // 聚光灯效果
      document.querySelectorAll('.member').forEach(card=>{
        card.addEventListener('pointermove', (e)=>{
          const r = card.getBoundingClientRect();
          card.style.setProperty('--mx', (e.clientX - r.left) + 'px');
          card.style.setProperty('--my', (e.clientY - r.top)  + 'px');
        });
      });

      // Modal：填充数据
      const modal = document.getElementById('profileModal');
      modal.addEventListener('show.bs.modal', (ev)=>{
        const btn = ev.relatedTarget;
        if (!btn) return;
        try{
          const data = JSON.parse(btn.getAttribute('data-profile')||'{}');
          modal.querySelector('#mName').textContent = data.name || 'Member';
          modal.querySelector('#mRole').textContent = data.position || '';
          const img = modal.querySelector('#mImg');
          img.src = data.img || '';
          img.alt = data.name || 'profile';
          modal.querySelector('#mBio').textContent = data.bio || '';
          const tagsWrap = modal.querySelector('#mTags');
          tagsWrap.innerHTML = '';
          (data.tags||[]).forEach(t=>{
            const s = document.createElement('span');
            s.className = 'tag';
            s.textContent = t;
            tagsWrap.appendChild(s);
          });
        }catch(e){}
      });
    })();
  </script>
</body>
</html>
